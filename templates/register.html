<!DOCTYPE html>
<html>
<head>
<title>Register Student</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background:linear-gradient(135deg,#141E30,#243B55);
    color:white;
}
.card-box{
    background:rgba(255,255,255,.08);
    border-radius:12px;
    padding:25px;
    backdrop-filter:blur(8px);
}
video, canvas{
    width:100%;
    border-radius:10px;
    border:3px solid rgba(255,255,255,.3);
}
.preview{
    margin-top:10px;
}
@media(max-width:768px){

    .container{
        padding:15px!important;
    }

    h1,h2,h3{
        font-size:22px!important;
    }

    .card-box{
        padding:18px!important;
    }

    video{
        width:100%!important;
        height:auto!important;
    }

    table{
        font-size:14px;
    }

    .btn{
        width:100%;
        margin-top:8px;
    }

}
</style>
</head>

<body>

<div class="container mt-5">

<h2>Register New Student</h2>

<div class="row mt-4">

<!-- FORM SIDE -->
<div class="col-md-5">
    <div class="card-box">

        <form method="POST">

            <label>Name</label>
            <input type="text" name="name" class="form-control mb-3" required>

            <label>Roll Number</label>
            <input type="text" name="roll" class="form-control mb-3" required>

            <input type="hidden" name="image" id="imageData">

            <button class="btn btn-success w-100 mt-2">
                Register Student
            </button>

        </form>

    </div>
</div>

<!-- CAMERA SIDE -->
<div class="col-md-7">
    <div class="card-box text-center">

        <h5>Capture Face</h5>

        <video id="video" autoplay></video>

        <br><br>

        <button class="btn btn-warning" onclick="capture()">
            Capture Photo
        </button>

        <canvas id="canvas" width="400" height="300" style="display:none;"></canvas>

        <img id="preview" class="preview" style="display:none;">

    </div>
</div>

</div>

</div>

<script>
let video=document.getElementById("video");
navigator.mediaDevices.getUserMedia({video:true})
.then(stream=>video.srcObject=stream);

function capture(){
    let canvas=document.getElementById("canvas");
    let ctx=canvas.getContext("2d");
    ctx.drawImage(video,0,0,400,300);

    let img=canvas.toDataURL("image/png");

    document.getElementById("imageData").value=img;

    let preview=document.getElementById("preview");
    preview.src=img;
    preview.style.display="block";
}
</script>

</body>
</html>